{
  "version": 3,
  "sources": ["../../src/main.ts", "../../src/browser.ts"],
  "sourcesContent": ["import { MeetergoSettings } from \"./declarations\";\n\ndeclare global {\n  interface SubmitEvent extends Event {\n    readonly currentTarget: EventTarget & HTMLFormElement;\n    readonly target: EventTarget | null;\n    readonly submitter: HTMLElement | null;\n    preventDefault(): void;\n  }\n}\n\ninterface ModalSettings {\n  link: string;\n  existingParams?: Record<string, string>;\n}\n\ninterface MeetergoMessageEvent {\n  event: string;\n  data: unknown;\n}\n\ninterface OpenModalData {\n  link: string;\n  params: Record<string, string>;\n}\n\nexport class MeetergoIntegration {\n  /**\n   * Stores DOM elements with bound Meetergo scheduler events\n   * @private\n   */\n  private boundElements: Map<HTMLElement, (e: Event) => void> = new Map();\n  constructor() {\n    const documentIsLoaded =\n      document &&\n      (document.readyState === \"complete\" ||\n        document.readyState === \"interactive\");\n\n    if (documentIsLoaded) {\n      this.init();\n    } else {\n      window.addEventListener(\"DOMContentLoaded\", () => {\n        this.init();\n      });\n    }\n  }\n\n  public init(): void {\n    this.listenToForms();\n    this.addFloatingButton();\n    this.addSidebar();\n    this.addModal();\n    this.parseIframes();\n    this.parseButtons();\n    this.addListeners();\n    this.addGeneralCss();\n\n    // Initialize video embed if settings are present\n    if (\n      window.meetergoSettings?.videoEmbed &&\n      window.meetergoSettings.videoEmbed.videoSrc\n    ) {\n      this.initVideoEmbed();\n    }\n  }\n\n  private addGeneralCss() {\n    const style = document.createElement(\"style\");\n    style.textContent = /*css*/ `\n    .close-button {\n      all: unset;\n      position: absolute;\n      top: 16px;\n      right: 16px;\n      background: #fff;\n      border-radius: 100%;\n      width: 40px;\n      height: 40px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      transition: color 350ms;\n      color: #9ca3af;\n      cursor: pointer;\n    }\n\n    .close-button:hover{\n      color: #000;\n    }\n\n    .meetergo-spinner {\n      position: absolute;\n      width: 48px;\n      height: 48px;\n      border: 6px solid #FFF;\n      border-bottom-color: #d1d5db;\n      border-radius: 50%;\n      display: inline-block;\n      box-sizing: border-box;\n      animation: rotation 1s linear infinite;\n    }\n\n    @keyframes rotation {\n      0% {\n          transform: rotate(0deg);\n      }\n      100% {\n          transform: rotate(360deg);\n      }\n    }\n    \n    /* Button animations */\n    @keyframes meetergo-pulse {\n      0% { transform: scale(1); }\n      50% { transform: scale(1.05); }\n      100% { transform: scale(1); }\n    }\n    \n    @keyframes meetergo-bounce {\n      0%, 20%, 50%, 80%, 100% { transform: translateY(0); }\n      40% { transform: translateY(-10px); }\n      60% { transform: translateY(-5px); }\n    }\n    \n    @keyframes meetergo-slide-in-right {\n      0% { transform: translateX(100%); opacity: 0; }\n      100% { transform: translateX(0); opacity: 1; }\n    }\n    \n    @keyframes meetergo-slide-in-left {\n      0% { transform: translateX(-100%); opacity: 0; }\n      100% { transform: translateX(0); opacity: 1; }\n    }\n    \n    @keyframes meetergo-slide-in-top {\n      0% { transform: translateY(-100%); opacity: 0; }\n      100% { transform: translateY(0); opacity: 1; }\n    }\n    \n    @keyframes meetergo-slide-in-bottom {\n      0% { transform: translateY(100%); opacity: 0; }\n      100% { transform: translateY(0); opacity: 1; }\n    }\n    \n    .meetergo-animation-pulse {\n      animation: meetergo-pulse 2s infinite ease-in-out;\n    }\n    \n    .meetergo-animation-bounce {\n      animation: meetergo-bounce 2s infinite;\n    }\n    \n    .meetergo-animation-slide-in-right {\n      animation: meetergo-slide-in-right 0.5s forwards;\n    }\n    \n    .meetergo-animation-slide-in-left {\n      animation: meetergo-slide-in-left 0.5s forwards;\n    }\n    \n    .meetergo-animation-slide-in-top {\n      animation: meetergo-slide-in-top 0.5s forwards;\n    }\n    \n    .meetergo-animation-slide-in-bottom {\n      animation: meetergo-slide-in-bottom 0.5s forwards;\n    }\n\n    /* Sidebar styles */\n    .meetergo-sidebar {\n      position: fixed;\n      top: 0;\n      height: 100%;\n      transition: transform 0.3s ease;\n      z-index: 9998;\n      overflow: hidden;\n      display: flex;\n      flex-direction: column;\n      align-items: stretch;\n    }\n\n    .meetergo-sidebar-left {\n      left: 0;\n      transform: translateX(-100%);\n    }\n\n    .meetergo-sidebar-right {\n      right: 0;\n      transform: translateX(100%);\n    }\n\n    .meetergo-sidebar.open {\n      transform: translateX(0);\n    }\n\n    .meetergo-sidebar-toggle {\n      position: fixed;\n      z-index: 9999;\n      display: flex;\n      flex-direction: column;\n      align-items: center;\n      justify-content: center;\n      cursor: pointer;\n      width: auto;\n      min-width: 50px;\n      padding: 12px 8px;\n      transition: width 0.2s ease;\n      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);\n      border: none;\n      outline: none;\n    }\n\n    .meetergo-sidebar-toggle-left {\n      left: 0;\n      border-radius: 0 8px 8px 0;\n      border-left: none;\n    }\n\n    .meetergo-sidebar-toggle-right {\n      right: 0;\n      border-radius: 8px 0 0 8px;\n      border-right: none;\n    }\n\n    .meetergo-sidebar-toggle:hover {\n      background-color: #0852a8;\n    }\n    \n    .meetergo-sidebar-toggle-left:hover {\n      box-shadow: 4px 0 10px rgba(0, 0, 0, 0.15);\n    }\n    \n    .meetergo-sidebar-toggle-right:hover {\n      box-shadow: -4px 0 10px rgba(0, 0, 0, 0.15);\n    }\n    \n    .meetergo-sidebar-toggle-hidden {\n      opacity: 0;\n      pointer-events: none;\n    }\n\n    .meetergo-sidebar-toggle-icon {\n      width: 24px;\n      height: 24px;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n    \n    .meetergo-sidebar-toggle-text {\n      writing-mode: vertical-rl;\n      text-orientation: mixed;\n      margin-top: 8px;\n      margin-left: 0;\n      font-size: 14px;\n      font-weight: 500;\n      display: flex;\n      align-items: center;\n      justify-content: center;\n    }\n\n    .meetergo-sidebar-close {\n      position: absolute;\n      top: 10px;\n      right: 10px;\n      background: none;\n      border: none;\n      cursor: pointer;\n      color: #666;\n      padding: 5px;\n      font-size: 20px;\n      z-index: 10000;\n    }\n\n    .meetergo-sidebar-close:hover {\n      color: #000;\n    }\n\n    .meetergo-sidebar-iframe {\n      width: 100%;\n      height: 100%;\n      border: none;\n      display: block;\n      flex: 1;\n      overflow: auto;\n    }\n\n    .meetergo-styled-button {\n      display: flex;\n      align-items: center;\n      justify-content: center;\n      font-size: 14px;\n      font-weight: 500;\n    }\n\n    `;\n    document.head.appendChild(style);\n  }\n\n  public onFormSubmit(e: Event): void {\n    if (!(e.currentTarget instanceof HTMLFormElement)) return;\n\n    const target = e.currentTarget;\n    e.preventDefault();\n    if (!target) return;\n\n    const targetListener = window.meetergoSettings?.formListeners.find(\n      (listener) => {\n        // Need to define `id`\n        if (!target.id) return false;\n        return target.id === listener.formId;\n      }\n    );\n    if (!targetListener) return;\n\n    e.preventDefault();\n    const formData = new FormData(target);\n    const data: Record<string, string> = {};\n    for (const [key, value] of formData) {\n      data[key] = value.toString();\n    }\n    window.meetergo.openModalWithContent({\n      link: targetListener.link,\n      existingParams: data,\n    });\n  }\n\n  private listenToForms(): void {\n    const forms = document.querySelectorAll(\"form\");\n\n    for (const form of forms) {\n      form.addEventListener(\"submit\", this.onFormSubmit, false);\n    }\n  }\n\n  private addSidebar(): void {\n    if (\n      window.meetergoSettings?.sidebar &&\n      window.meetergoSettings?.sidebar.link\n    ) {\n      const position = window.meetergoSettings.sidebar.position || \"right\";\n      const width = window.meetergoSettings.sidebar.width || \"400px\";\n      const link = window.meetergoSettings.sidebar.link;\n      const buttonText =\n        window.meetergoSettings.sidebar.buttonText || \"Open Scheduler\";\n      const buttonIcon =\n        window.meetergoSettings.sidebar.buttonIcon || \"calendar\";\n      const buttonPosition =\n        window.meetergoSettings.sidebar.buttonPosition || \"middle-right\";\n\n      const sidebar = document.createElement(\"div\");\n      sidebar.classList.add(\"meetergo-sidebar\", `meetergo-sidebar-${position}`);\n      sidebar.style.width = width;\n\n      const closeButton = document.createElement(\"button\");\n      closeButton.classList.add(\"meetergo-sidebar-close\");\n      closeButton.setAttribute(\"aria-label\", \"Close sidebar\");\n      closeButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>`;\n\n      const iframe = document.createElement(\"iframe\");\n      iframe.classList.add(\"meetergo-sidebar-iframe\");\n      iframe.src = link;\n      iframe.style.width = \"100%\";\n      iframe.style.height = \"100%\";\n      iframe.style.border = \"none\";\n\n      const toggleButton = document.createElement(\"button\");\n      toggleButton.classList.add(\n        \"meetergo-sidebar-toggle\",\n        position === \"left\"\n          ? \"meetergo-sidebar-toggle-left\"\n          : \"meetergo-sidebar-toggle-right\"\n      );\n\n      if (buttonPosition.includes(\"top\")) {\n        toggleButton.style.top = \"120px\";\n      } else if (buttonPosition.includes(\"middle\")) {\n        toggleButton.style.top = \"50%\";\n        toggleButton.style.transform = \"translateY(-50%)\";\n      } else {\n        toggleButton.style.bottom = \"120px\";\n        // Reset top if bottom is set\n        toggleButton.style.top = \"\";\n      }\n\n      if (buttonIcon) {\n        const iconSpan = document.createElement(\"span\");\n        iconSpan.classList.add(\"meetergo-sidebar-toggle-icon\");\n        toggleButton.appendChild(iconSpan);\n\n        this.fetchLucideIcon(buttonIcon, iconSpan);\n      }\n\n      if (buttonText) {\n        const textLabel = document.createElement(\"span\");\n        textLabel.classList.add(\"meetergo-sidebar-toggle-text\");\n        textLabel.textContent = buttonText;\n        toggleButton.appendChild(textLabel);\n      }\n\n      toggleButton.setAttribute(\"aria-label\", buttonText);\n      toggleButton.setAttribute(\"role\", \"button\");\n\n      if (window.meetergoSettings?.sidebar.backgroundColor) {\n        toggleButton.style.backgroundColor =\n          window.meetergoSettings.sidebar.backgroundColor;\n      }\n\n      if (window.meetergoSettings?.sidebar.textColor) {\n        toggleButton.style.color = window.meetergoSettings.sidebar.textColor;\n      }\n\n      toggleButton.addEventListener(\"click\", () => {\n        sidebar.classList.toggle(\"open\");\n        toggleButton.classList.toggle(\"meetergo-sidebar-toggle-hidden\");\n      });\n\n      closeButton.addEventListener(\"click\", () => {\n        sidebar.classList.remove(\"open\");\n        toggleButton.classList.remove(\"meetergo-sidebar-toggle-hidden\");\n      });\n\n      sidebar.appendChild(closeButton);\n      sidebar.appendChild(iframe);\n      document.body.appendChild(sidebar);\n      document.body.appendChild(toggleButton);\n    }\n  }\n\n  private addFloatingButton(): void {\n    if (\n      window.meetergoSettings?.floatingButton &&\n      window.meetergoSettings?.floatingButton?.position &&\n      window.meetergoSettings?.floatingButton.link\n    ) {\n      const position = window.meetergoSettings?.floatingButton.position;\n      const animation =\n        window.meetergoSettings?.floatingButton.animation || \"none\";\n      let button = document.createElement(\"button\");\n      button.classList.add(\"meetergo-modal-button\");\n\n      const buttonText =\n        window.meetergoSettings?.floatingButton?.text ?? \"Book appointment\";\n      if (window.meetergoSettings?.floatingButton?.icon) {\n        this.loadLucideIcon(\n          window.meetergoSettings.floatingButton.icon,\n          button,\n          buttonText\n        );\n      } else {\n        button.innerHTML = buttonText;\n      }\n\n      button.setAttribute(\"link\", window.meetergoSettings.floatingButton.link);\n\n      button.style.position = \"fixed\";\n\n      let originalTransform = \"\";\n\n      if (position.includes(\"top\")) {\n        button.style.top = \"10px\";\n      } else if (position.includes(\"middle\")) {\n        button.style.top = \"50%\";\n        originalTransform = \"translateY(-50%)\";\n        button.style.transform = originalTransform;\n      } else {\n        // bottom\n        button.style.bottom = \"10px\";\n      }\n\n      if (position.includes(\"left\")) {\n        button.style.left = \"5px\";\n      } else if (position.includes(\"center\")) {\n        button.style.left = \"50%\";\n        originalTransform = originalTransform\n          ? \"translate(-50%, -50%)\"\n          : \"translateX(-50%)\";\n        button.style.transform = originalTransform;\n      } else {\n        // right\n        button.style.right = \"5px\";\n      }\n\n      button = this.meetergoStyleButton(button);\n\n      if (window.meetergoSettings?.floatingButton.backgroundColor)\n        button.style.backgroundColor =\n          window.meetergoSettings?.floatingButton.backgroundColor;\n      if (window.meetergoSettings?.floatingButton.textColor)\n        button.style.color = window.meetergoSettings?.floatingButton.textColor;\n\n      if (animation !== \"none\") {\n        if (animation === \"pulse\") {\n          button.classList.add(\"meetergo-animation-pulse\");\n        } else if (animation === \"bounce\") {\n          button.classList.add(\"meetergo-animation-bounce\");\n        } else if (animation === \"slide-in\") {\n          // Choose slide-in direction based on button position\n          if (position.includes(\"right\")) {\n            button.classList.add(\"meetergo-animation-slide-in-right\");\n          } else if (position.includes(\"left\")) {\n            button.classList.add(\"meetergo-animation-slide-in-left\");\n          } else if (position.includes(\"top\")) {\n            button.classList.add(\"meetergo-animation-slide-in-top\");\n          } else {\n            // bottom\n            button.classList.add(\"meetergo-animation-slide-in-bottom\");\n          }\n        }\n      }\n\n      document.body.appendChild(button);\n    }\n  }\n\n  private loadLucideIcon(\n    iconName: string,\n    button: HTMLButtonElement,\n    buttonText: string\n  ): void {\n    button.style.display = \"inline-flex\";\n    button.style.alignItems = \"center\";\n    button.style.justifyContent = \"center\";\n\n    button.innerHTML = \"\";\n\n    if (iconName) {\n      const iconSpan = document.createElement(\"span\");\n      iconSpan.style.display = \"inline-flex\";\n      iconSpan.style.alignItems = \"center\";\n\n      if (buttonText) {\n        iconSpan.style.marginRight = \"8px\";\n      }\n\n      button.appendChild(iconSpan);\n\n      this.fetchLucideIcon(iconName, iconSpan);\n    }\n\n    if (buttonText) {\n      button.appendChild(document.createTextNode(buttonText));\n    }\n  }\n\n  private fetchLucideIcon(iconName: string, container: HTMLElement): void {\n    const iconMap: Record<string, string> = {\n      CalendarPlus: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"4\" rx=\"2\" ry=\"2\"/><line x1=\"16\" x2=\"16\" y1=\"2\" y2=\"6\"/><line x1=\"8\" x2=\"8\" y1=\"2\" y2=\"6\"/><line x1=\"3\" x2=\"21\" y1=\"10\" y2=\"10\"/><line x1=\"12\" x2=\"12\" y1=\"14\" y2=\"18\"/><line x1=\"10\" x2=\"14\" y1=\"16\" y2=\"16\"/></svg>`,\n      CalendarPlus2: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8\"/><line x1=\"16\" x2=\"16\" y1=\"2\" y2=\"6\"/><line x1=\"8\" x2=\"8\" y1=\"2\" y2=\"6\"/><line x1=\"3\" x2=\"21\" y1=\"10\" y2=\"10\"/><path d=\"M16 21v-6\"/><path d=\"M19 18h-6\"/></svg>`,\n      Calendar: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"18\" height=\"18\" x=\"3\" y=\"4\" rx=\"2\" ry=\"2\"/><line x1=\"16\" x2=\"16\" y1=\"2\" y2=\"6\"/><line x1=\"8\" x2=\"8\" y1=\"2\" y2=\"6\"/><line x1=\"3\" x2=\"21\" y1=\"10\" y2=\"10\"/></svg>`,\n      Clock: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><polyline points=\"12 6 12 12 16 14\"/></svg>`,\n      User: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M19 21v-2a4 4 0 0 0-4-4H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2v14a4 4 0 0 0 4 4z\"/><circle cx=\"12\" cy=\"7\" r=\"4\"/></svg>`,\n      Video: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M22 8h1a4 4 0 1 1 0 8h-1\"/><path d=\"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z\"/><line x1=\"6\" x2=\"6\" y1=\"2\" y2=\"4\"/><line x1=\"10\" x2=\"10\" y1=\"2\" y2=\"4\"/><line x1=\"14\" x2=\"14\" y1=\"2\" y2=\"4\"/></svg>`,\n      Mail: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"20\" height=\"16\" x=\"2\" y=\"4\" rx=\"2\"/><path d=\"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7\"/></svg>`,\n      Phone: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"/></svg>`,\n      MessageSquare: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z\"/></svg>`,\n      Coffee: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M17 8h1a4 4 0 1 1 0 8h-1\"/><path d=\"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z\"/><line x1=\"6\" x2=\"6\" y1=\"2\" y2=\"4\"/><line x1=\"10\" x2=\"10\" y1=\"2\" y2=\"4\"/><line x1=\"14\" x2=\"14\" y1=\"2\" y2=\"4\"/></svg>`,\n      Users: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2\"/><circle cx=\"9\" cy=\"7\" r=\"4\"/><path d=\"M22 21v-2a4 4 0 0 0-3-3.87\"/><path d=\"M16 3.13a4 4 0 0 1 0 7.75\"/></svg>`,\n      Briefcase: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect width=\"20\" height=\"14\" x=\"2\" y=\"7\" rx=\"2\" ry=\"2\"/><path d=\"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16\"/></svg>`,\n      Handshake: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M20.42 4.58a5.4 5.4 0 0 0-7.65 0l-.77.78-.77-.78a5.4 5.4 0 0 0-7.65 0C1.46 6.7 1.33 10.28 4 13l8 8 8-8c2.67-2.72 2.54-6.3.42-8.42z\"/></svg>`,\n      PenTool: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"m12 19 7-7 3 3-7 7-3-3z\"/><path d=\"m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z\"/><path d=\"m2 2 7.586 7.586\"/><circle cx=\"11\" cy=\"11\" r=\"2\"/></svg>`,\n      Heart: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z\"/></svg>`,\n      Star: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2\"/></svg>`,\n      BookOpen: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><path d=\"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\"/><path d=\"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\"/></svg>`,\n    };\n\n    // Check if icon exists in our map\n    if (iconMap[iconName]) {\n      container.innerHTML = iconMap[iconName];\n    } else {\n      container.innerHTML = iconMap[\"Calendar\"];\n      console.warn(\n        `meetergo: Icon '${iconName}' not found, using default Calendar icon`\n      );\n    }\n  }\n\n  private addListeners(): void {\n    try {\n      document.body.addEventListener(\"click\", (e) => {\n        const target = e.target as HTMLElement;\n        const button = target.closest(\".meetergo-modal-button\") as HTMLElement;\n\n        if (button) {\n          e.preventDefault();\n          const link =\n            button.getAttribute(\"link\") || button.getAttribute(\"href\");\n          if (link) {\n            this.openModalWithContent({ link });\n          } else {\n            console.warn(\"meetergo: Button clicked without a link attribute\");\n          }\n        }\n      });\n\n      document.addEventListener(\"keydown\", (e) => {\n        if (e.key === \"Escape\") {\n          this.closeModal();\n        }\n      });\n\n      window.onmessage = (e: MessageEvent<MeetergoMessageEvent>) => {\n        try {\n          const meetergoEvent = e.data as MeetergoMessageEvent;\n\n          switch (meetergoEvent.event) {\n            case \"open-modal\": {\n              const iframeParams = this.getParamsFromMainIframe();\n              const data = meetergoEvent.data as OpenModalData;\n\n              if (!data.link) {\n                console.error(\"Meetergo: Missing link in open-modal event\");\n                return;\n              }\n\n              this.openModalWithContent({\n                link: data.link,\n                existingParams: { ...data.params, ...iframeParams },\n              });\n              break;\n            }\n            case \"close-modal\": {\n              window.meetergo.closeModal();\n              break;\n            }\n            default: {\n              // Ignore unrecognized events\n              break;\n            }\n          }\n        } catch (error) {\n          console.error(\"meetergo: Error handling message event\", error);\n        }\n      };\n    } catch (error) {\n      console.error(\"meetergo: Error setting up event listeners\", error);\n    }\n  }\n\n  public getParamsFromMainIframe(): Record<string, string> {\n    const iframeParams: Record<string, string> = {};\n    const divIframe: HTMLElement | null =\n      document.querySelector(\".meetergo-iframe\");\n    if (divIframe) {\n      const linkAttr = divIframe.getAttribute(\"link\");\n      if (linkAttr) {\n        const queryString = linkAttr.split(\"?\")[1];\n        if (queryString) {\n          const urlParams = new URLSearchParams(queryString);\n          urlParams.forEach((value, key) => {\n            iframeParams[key] = value;\n          });\n        }\n      }\n    }\n    return iframeParams;\n  }\n\n  public openModalWithContent(settings: ModalSettings): void {\n    try {\n      if (window.meetergoSettings?.disableModal) {\n        return;\n      }\n      const { link, existingParams } = settings;\n\n      if (!link) {\n        console.error(\"meetergo: Link is required for opening modal\");\n        return;\n      }\n\n      const iframe = document.createElement(\"iframe\");\n      iframe.name = \"meetergo-embedded-modal\";\n      const params = this.getPrifillParams(existingParams);\n      iframe.setAttribute(\"src\", `${link}?${params}`);\n      iframe.style.width = \"100%\";\n      iframe.style.height = \"100%\";\n      iframe.style.border = \"none\";\n\n      const modalContent = document.getElementById(\"meetergo-modal-content\");\n      if (!modalContent) {\n        console.error(\"meetergo: Modal content element not found\");\n        return;\n      }\n\n      modalContent.innerHTML = \"\";\n      modalContent.appendChild(iframe);\n      this.openModal();\n    } catch (error) {\n      console.error(\"meetergo: Error opening modal with content\", error);\n    }\n  }\n\n  private addModal(): void {\n    try {\n      const modal = document.createElement(\"div\");\n      modal.id = \"meetergo-modal\";\n      modal.setAttribute(\"role\", \"dialog\");\n      modal.setAttribute(\"aria-modal\", \"true\");\n      modal.setAttribute(\"aria-labelledby\", \"meetergo-modal-title\");\n      modal.setAttribute(\"aria-describedby\", \"meetergo-modal-description\");\n      modal.style.zIndex = \"999999\";\n      modal.style.position = \"fixed\";\n      modal.style.transition = \"visibility 0s linear 0.1s,opacity 0.3s ease\";\n      modal.style.top = \"0\";\n      modal.style.left = \"0\";\n      modal.style.width = \"100%\";\n      modal.style.height = \"100%\";\n      modal.style.display = \"flex\";\n      modal.style.justifyContent = \"center\";\n      modal.style.alignItems = \"center\";\n      modal.style.visibility = \"hidden\";\n      modal.style.opacity = \"0\";\n\n      const overlay = document.createElement(\"div\");\n      overlay.style.zIndex = \"1001\";\n      overlay.style.position = \"fixed\";\n      overlay.style.top = \"0\";\n      overlay.style.left = \"0\";\n      overlay.style.width = \"100%\";\n      overlay.style.height = \"100%\";\n      overlay.style.backgroundColor = \"rgba(0,0,0,0.6)\";\n\n      const spinner = document.createElement(\"div\");\n      spinner.className = \"meetergo-spinner\";\n      spinner.setAttribute(\"role\", \"status\");\n      spinner.setAttribute(\"aria-label\", \"Loading\");\n      spinner.style.zIndex = \"1002\";\n\n      overlay.onclick = (e) => {\n        e.preventDefault();\n        window.meetergo.closeModal();\n      };\n\n      const content = document.createElement(\"div\");\n      content.id = \"meetergo-modal-content\";\n      content.style.zIndex = \"1003\";\n      content.style.position = \"relative\";\n      content.style.width = \"100%\";\n      content.style.height = \"100%\";\n      content.style.backgroundColor = \"rgba(0,0,0,0)\";\n      content.style.borderRadius = \"0.7rem\";\n      content.style.overflow = \"hidden\";\n      content.style.padding = \"16px\";\n\n      const title = document.createElement(\"h2\");\n      title.id = \"meetergo-modal-title\";\n      title.textContent = \"Meetergo Booking\";\n      title.style.position = \"absolute\";\n      title.style.width = \"1px\";\n      title.style.height = \"1px\";\n      title.style.padding = \"0\";\n      title.style.margin = \"-1px\";\n      title.style.overflow = \"hidden\";\n      title.style.clip = \"rect(0, 0, 0, 0)\";\n      title.style.whiteSpace = \"nowrap\";\n      title.style.borderWidth = \"0\";\n\n      const description = document.createElement(\"p\");\n      description.id = \"meetergo-modal-description\";\n      description.textContent = \"Calendar booking interface\";\n      description.style.position = \"absolute\";\n      description.style.width = \"1px\";\n      description.style.height = \"1px\";\n      description.style.padding = \"0\";\n      description.style.margin = \"-1px\";\n      description.style.overflow = \"hidden\";\n      description.style.clip = \"rect(0, 0, 0, 0)\";\n      description.style.whiteSpace = \"nowrap\";\n      description.style.borderWidth = \"0\";\n\n      const button = document.createElement(\"button\");\n      button.className = \"close-button\";\n      button.setAttribute(\"aria-label\", \"Close booking modal\");\n      button.setAttribute(\"type\", \"button\");\n      button.style.zIndex = \"1004\";\n      button.onclick = (e) => {\n        e.preventDefault();\n        window.meetergo.closeModal();\n      };\n      button.innerHTML = /*html*/ `<svg\n        stroke=\"currentColor\"\n        fill=\"currentColor\"\n        stroke-width=\"0\"\n        viewBox=\"0 0 512 512\"\n        height=\"24px\"\n        width=\"24px\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n        aria-hidden=\"true\"\n      >\n        <path\n          d=\"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z\"\n        ></path>\n      </svg>`;\n\n      const fragment = document.createDocumentFragment();\n      fragment.appendChild(overlay);\n      fragment.appendChild(content);\n      fragment.appendChild(spinner);\n      fragment.appendChild(button);\n      fragment.appendChild(title);\n      fragment.appendChild(description);\n\n      modal.appendChild(fragment);\n      document.body.appendChild(modal);\n    } catch (error) {\n      console.error(\"meetergo: Error adding modal to the page\", error);\n    }\n  }\n\n  private lastActiveElement: Element | null = null;\n\n  /**\n   * Binds the meetergo scheduler to any DOM element\n   * @param element DOM element to bind the scheduler to\n   * @param schedulerLink The link to the meetergo scheduler\n   * @param options Optional configuration for the binding\n   * @returns The bound element for chaining\n   */\n  public bindElementToScheduler(\n    element: HTMLElement,\n    schedulerLink?: string,\n    options?: {\n      params?: Record<string, string>;\n      removeExistingListeners?: boolean;\n    }\n  ): HTMLElement {\n    try {\n      // If we should remove existing listeners\n      if (options?.removeExistingListeners) {\n        // If this element was previously bound, remove the old listener\n        if (this.boundElements.has(element)) {\n          const oldHandler = this.boundElements.get(element);\n          if (oldHandler) {\n            element.removeEventListener(\"click\", oldHandler);\n            this.boundElements.delete(element);\n          }\n        }\n      }\n\n      // Create the event handler that will open the scheduler\n      const clickHandler = (e: Event) => {\n        e.preventDefault();\n\n        // Use the provided scheduler link or check if the element has a link attribute\n        const link = schedulerLink || element.getAttribute(\"link\");\n\n        if (!link) {\n          console.error(\n            \"meetergo: No scheduler link provided for bound element\"\n          );\n          return;\n        }\n\n        this.openModalWithContent({\n          link,\n          existingParams: options?.params,\n        });\n      };\n\n      // Bind the event handler\n      element.addEventListener(\"click\", clickHandler);\n\n      // Store the element and its handler for potential cleanup later\n      this.boundElements.set(element, clickHandler);\n\n      // Make sure the element looks clickable\n      if (getComputedStyle(element).cursor !== \"pointer\") {\n        element.style.cursor = \"pointer\";\n      }\n\n      // Add a role if it doesn't have one\n      if (!element.getAttribute(\"role\")) {\n        element.setAttribute(\"role\", \"button\");\n      }\n\n      return element;\n    } catch (error) {\n      console.error(\"Meetergo: Error binding element to scheduler\", error);\n      return element;\n    }\n  }\n\n  /**\n   * Unbinds a previously bound element from the Meetergo scheduler\n   * @param element The element to unbind\n   * @returns true if the element was unbound, false otherwise\n   */\n  public unbindElementFromScheduler(element: HTMLElement): boolean {\n    try {\n      if (this.boundElements.has(element)) {\n        const handler = this.boundElements.get(element);\n        if (handler) {\n          element.removeEventListener(\"click\", handler);\n          this.boundElements.delete(element);\n          return true;\n        }\n      }\n      return false;\n    } catch (error) {\n      console.error(\"meetergo: Error unbinding element from scheduler\", error);\n      return false;\n    }\n  }\n\n  /**\n   * Programmatically launches the Meetergo scheduler\n   * @param schedulerLink Optional custom link to use\n   * @param params Optional parameters to pass to the scheduler\n   */\n  public launchScheduler(\n    schedulerLink?: string,\n    params?: Record<string, string>\n  ): void {\n    try {\n      let link = schedulerLink;\n\n      // If no link is provided, try to use the default one from settings\n      if (!link && window.meetergoSettings?.floatingButton?.link) {\n        link = window.meetergoSettings.floatingButton.link;\n      }\n\n      if (!link) {\n        console.error(\"meetergo: No scheduler link provided for launch\");\n        return;\n      }\n\n      this.openModalWithContent({\n        link,\n        existingParams: params,\n      });\n    } catch (error) {\n      console.error(\n        \"meetergo: Error launching scheduler programmatically\",\n        error\n      );\n    }\n  }\n\n  public openModal(): void {\n    try {\n      this.lastActiveElement = document.activeElement;\n\n      const modal = document.getElementById(\"meetergo-modal\");\n      if (!modal) {\n        console.error(\"meetergo: Modal element not found\");\n        return;\n      }\n\n      modal.style.visibility = \"visible\";\n      modal.style.opacity = \"1\";\n\n      const spinners = modal.getElementsByClassName(\"meetergo-spinner\");\n      if (spinners.length > 0) {\n        const spinner = spinners[0] as HTMLElement;\n        spinner.style.visibility = \"visible\";\n        spinner.style.opacity = \"1\";\n      }\n\n      const closeButton = modal.querySelector(\".close-button\") as HTMLElement;\n      if (closeButton) {\n        setTimeout(() => {\n          closeButton.focus();\n        }, 100);\n      }\n\n      document.body.style.overflow = \"hidden\";\n    } catch (error) {\n      console.error(\"meetergo: Error opening modal\", error);\n    }\n  }\n\n  public closeModal(preventClearContent?: boolean): void {\n    try {\n      const modal = document.getElementById(\"meetergo-modal\");\n      if (!modal) {\n        console.error(\n          \"meetergo: Modal element not found when attempting to close\"\n        );\n        return;\n      }\n\n      modal.style.visibility = \"hidden\";\n      modal.style.opacity = \"0\";\n\n      const spinners = modal.getElementsByClassName(\"meetergo-spinner\");\n      if (spinners.length > 0) {\n        const spinner = spinners[0] as HTMLElement;\n        spinner.style.visibility = \"hidden\";\n        spinner.style.opacity = \"0\";\n      }\n\n      if (!preventClearContent) {\n        setTimeout(() => {\n          const content = document.getElementById(\"meetergo-modal-content\");\n          if (content) {\n            content.innerHTML = \"\";\n          }\n        }, 300);\n      }\n\n      document.body.style.overflow = \"\";\n\n      if (this.lastActiveElement instanceof HTMLElement) {\n        setTimeout(() => {\n          (this.lastActiveElement as HTMLElement).focus();\n        }, 100);\n      }\n    } catch (error) {\n      console.error(\"meetergo: Error closing modal\", error);\n    }\n  }\n\n  public parseIframes(): void {\n    try {\n      const anchors = document.getElementsByClassName(\"meetergo-iframe\");\n      if (!anchors.length) {\n        return; // No iframes to parse\n      }\n\n      const params = this.getPrifillParams();\n\n      Array.from(anchors).forEach((anchor) => {\n        try {\n          const iframe = document.createElement(\"iframe\");\n          iframe.title = \"meetergo Booking Calendar\";\n          iframe.setAttribute(\"loading\", \"lazy\");\n\n          const link =\n            (anchor.getAttribute(\"link\") || anchor.getAttribute(\"href\")) ?? \"\";\n\n          if (!link) {\n            console.warn(\"meetergo: Iframe element missing link attribute\");\n            return;\n          }\n\n          iframe.setAttribute(\"src\", `${link}?${params}`);\n          iframe.style.width = \"100%\";\n          iframe.style.height = \"100%\";\n          iframe.style.border = \"none\";\n          iframe.style.minHeight = \"690px\";\n\n          const loadingIndicator = document.createElement(\"div\");\n          loadingIndicator.className = \"meetergo-spinner\";\n          loadingIndicator.style.position = \"absolute\";\n          loadingIndicator.style.top = \"50%\";\n          loadingIndicator.style.left = \"50%\";\n          loadingIndicator.style.transform = \"translate(-50%, -50%)\";\n\n          const indicatorId = `meetergo-spinner-${Math.random()\n            .toString(36)\n            .substring(2, 11)}`;\n          loadingIndicator.id = indicatorId;\n\n          iframe.addEventListener(\"load\", () => {\n            const spinner = document.getElementById(indicatorId);\n            if (spinner && spinner.parentNode) {\n              spinner.parentNode.removeChild(spinner);\n            }\n          });\n\n          if (anchor instanceof HTMLElement) {\n            anchor.style.position = \"relative\";\n          }\n\n          if (anchor instanceof HTMLElement) {\n            anchor.innerHTML = \"\";\n            anchor.appendChild(iframe);\n          }\n          anchor.appendChild(loadingIndicator);\n        } catch (innerError) {\n          console.error(\n            \"meetergo: Error processing iframe element\",\n            innerError\n          );\n        }\n      });\n    } catch (error) {\n      console.error(\"meetergo: Error parsing iframes\", error);\n    }\n  }\n\n  private postScrollHeightToParent(scrollHeight: number): void {\n    window.parent.postMessage({ scrollHeight: scrollHeight }, \"*\");\n  }\n\n  public sendScrollHeightToParent(): void {\n    const scrollHeight = document.body.scrollHeight;\n\n    this.postScrollHeightToParent(scrollHeight);\n  }\n\n  public parseButtons(): void {\n    const buttons = document.getElementsByClassName(\"meetergo-styled-button\");\n\n    for (let button of buttons) {\n      button = this.meetergoStyleButton(button as HTMLButtonElement);\n\n      // Also bind clickable elements to the scheduler if they have a link attribute\n      if (button instanceof HTMLElement) {\n        const link = button.getAttribute(\"link\");\n        if (link) {\n          this.bindElementToScheduler(button, link);\n        }\n      }\n    }\n  }\n  private getWindowParams(): Record<string, string> {\n    try {\n      const search = window.location.search;\n      if (!search) {\n        return {};\n      }\n\n      const params = new URLSearchParams(search);\n      const paramObj: Record<string, string> = {};\n\n      // More efficient iteration through URLSearchParams\n      params.forEach((value, key) => {\n        // Only include non-empty values\n        if (value && value.trim() !== \"\") {\n          paramObj[key] = value;\n        }\n      });\n\n      return paramObj;\n    } catch (error) {\n      console.error(\"meetergo: Error parsing window parameters\", error);\n      return {};\n    }\n  }\n\n  private getPrifillParams(existingParams?: Record<string, string>): string {\n    try {\n      const params: string[] = [];\n\n      let prefill = this.getWindowParams();\n\n      if (window.meetergoSettings?.prefill) {\n        prefill = {\n          ...prefill,\n          ...window.meetergoSettings.prefill,\n        };\n      }\n\n      if (existingParams) {\n        prefill = {\n          ...prefill,\n          ...existingParams,\n        };\n      }\n\n      Object.entries(prefill).forEach(([key, value]) => {\n        if (value !== undefined && value !== null) {\n          try {\n            const encodedKey = encodeURIComponent(key);\n            const encodedValue = encodeURIComponent(String(value));\n            params.push(`${encodedKey}=${encodedValue}`);\n          } catch (encodingError) {\n            console.warn(\n              `meetergo: Error encoding parameter ${key}`,\n              encodingError\n            );\n          }\n        }\n      });\n\n      return params.join(\"&\");\n    } catch (error) {\n      console.error(\"meetergo: Error generating prefill parameters\", error);\n      return \"\";\n    }\n  }\n\n  public setPrefill(prefill: MeetergoSettings[\"prefill\"]): void {\n    try {\n      if (!prefill) {\n        console.warn(\"meetergo: Attempted to set undefined or null prefill\");\n        return;\n      }\n\n      if (!window.meetergoSettings) {\n        console.warn(\"meetergo: Settings object not initialized\");\n        window.meetergoSettings = {\n          company: \"\",\n          formListeners: [],\n          prefill: {},\n        };\n      }\n\n      window.meetergoSettings.prefill = { ...prefill };\n\n      const modal = document.getElementById(\"meetergo-modal\");\n      if (modal && getComputedStyle(modal).visibility === \"visible\") {\n        this.refreshModalWithNewPrefill();\n      }\n    } catch (error) {\n      console.error(\"meetergo: Error setting prefill values\", error);\n    }\n  }\n\n  private refreshModalWithNewPrefill(): void {\n    try {\n      const modalContent = document.getElementById(\"meetergo-modal-content\");\n      if (!modalContent) return;\n\n      const iframe = modalContent.querySelector(\"iframe\");\n      if (!iframe) return;\n\n      const currentSrc = iframe.getAttribute(\"src\");\n      if (!currentSrc) return;\n\n      const linkBase = currentSrc.split(\"?\")[0];\n\n      const params = this.getPrifillParams();\n      iframe.setAttribute(\"src\", `${linkBase}?${params}`);\n    } catch (error) {\n      console.error(\"meetergo: Error refreshing modal with new prefill\", error);\n    }\n  }\n\n  private meetergoStyleButton(button: HTMLButtonElement): HTMLButtonElement {\n    try {\n      if (!button) {\n        console.warn(\"meetergo: Attempted to style undefined button\");\n        return button;\n      }\n\n      const styles = {\n        margin: \"0.5rem\",\n        padding: \"0.8rem\",\n        fontWeight: \"bold\",\n        color: \"white\",\n        backgroundColor: \"#0A64BC\",\n        borderRadius: \"0.5rem\",\n        border: \"none\",\n        cursor: \"pointer\",\n        zIndex: \"999\",\n        transition: \"background-color 0.3s ease\",\n        outline: \"none\",\n        boxShadow: \"0 2px 5px rgba(0,0,0,0.2)\",\n      };\n\n      Object.assign(button.style, styles);\n\n      const styleId = \"meetergo-button-styles\";\n      if (!document.getElementById(styleId)) {\n        const style = document.createElement(\"style\");\n        style.id = styleId;\n        style.textContent = `\n          .meetergo-styled-button:hover {\n            background-color: #0850A0 !important;\n            box-shadow: 0 4px 8px rgba(0,0,0,0.3) !important;\n          }\n          .meetergo-styled-button:focus {\n            outline: 2px solid #0A64BC !important;\n            outline-offset: 2px !important;\n          }\n          .meetergo-styled-button:active {\n            transform: translateY(1px) !important;\n          }\n        `;\n        document.head.appendChild(style);\n      }\n\n      if (!button.getAttribute(\"role\")) {\n        button.setAttribute(\"role\", \"button\");\n      }\n\n      return button;\n    } catch (error) {\n      console.error(\"meetergo: Error styling button\", error);\n      return button;\n    }\n  }\n\n  /**\n   * Initializes the video embed feature using settings from window.meetergoSettings\n   */\n  public initVideoEmbed(): void {\n    try {\n      const settings = window.meetergoSettings?.videoEmbed;\n      if (!settings?.videoSrc || !settings?.bookingLink) {\n        console.warn(\"meetergo: Video embed settings missing or incomplete\");\n        return;\n      }\n\n      // Ensure HLS.js is loaded before proceeding\n      this.ensureHlsLibraryLoaded()\n        .then(() => {\n          this.createVideoEmbed(settings);\n        })\n        .catch((error) => {\n          console.error(\"meetergo: Failed to load HLS library\", error);\n        });\n    } catch (error) {\n      console.error(\"meetergo: Error initializing video embed\", error);\n    }\n  }\n\n  /**\n   * Ensures HLS.js library is loaded\n   * @returns Promise that resolves when HLS.js is loaded\n   */\n  private ensureHlsLibraryLoaded(): Promise<void> {\n    return new Promise((resolve, reject) => {\n      if (window.Hls) {\n        resolve();\n        return;\n      }\n\n      const script = document.createElement(\"script\");\n      script.src = \"https://cdn.jsdelivr.net/npm/hls.js@latest\";\n      script.crossOrigin = \"anonymous\";\n      script.onload = () => resolve();\n      script.onerror = () => reject(new Error(\"Failed to load HLS.js\"));\n      document.head.appendChild(script);\n    });\n  }\n\n  /**\n   * Creates the video embed UI with a video player\n   * @param settings The video embed settings from meetergoSettings\n   */\n  private createVideoEmbed(settings: MeetergoSettings[\"videoEmbed\"]): void {\n    if (!settings?.videoSrc || !settings?.bookingLink) return;\n\n    // Extract settings with defaults\n    const {\n      videoSrc,\n      bookingLink,\n      posterImage = \"\",\n      position = \"bottom-right\",\n      buttonColor = \"#0a64bc\",\n      bookingCta = \"Book Appointment\",\n      size = { width: \"200px\", height: \"158px\" },\n      isRound = false,\n      offset = \"16px\", // Added offset with default value\n    } = settings;\n\n    // Create container for the video\n    const videoContainer = document.createElement(\"div\");\n    Object.assign(videoContainer.style, {\n      position: \"fixed\",\n      zIndex: \"1000\",\n      overflow: \"hidden\",\n      boxShadow: \"0 4px 12px rgba(0,0,0,0.15)\",\n      cursor: \"pointer\",\n      transition:\n        \"transform 0.3s ease, box-shadow 0.3s ease, width 0.3s ease, height 0.3s ease\",\n      border: `2px solid ${buttonColor}`,\n    });\n\n    // Set size and shape\n    if (isRound) {\n      const diameter =\n        Math.min(\n          parseInt(size?.width || \"200\"),\n          parseInt(size?.height || \"158\")\n        ) + \"px\";\n      Object.assign(videoContainer.style, {\n        width: diameter,\n        height: diameter,\n        borderRadius: \"50%\",\n      });\n    } else {\n      Object.assign(videoContainer.style, {\n        width: size.width,\n        height: size.height,\n        borderRadius: \"8px\",\n      });\n    }\n\n    // Set position\n    this.setPositionStyles(videoContainer, position, offset);\n\n    // Create UI elements\n    const {\n      video,\n      overlayContainer,\n      ctaElement,\n      loadingIndicator,\n      closeButton,\n    } = this.createVideoEmbedElements(settings);\n\n    // Make close button always visible\n    closeButton.style.opacity = \"1\";\n\n    // Track expansion state\n    let isExpanded = false;\n    const originalStyles = {\n      width: videoContainer.style.width,\n      height: videoContainer.style.height,\n      borderRadius: videoContainer.style.borderRadius,\n    };\n\n    // Add elements to the DOM\n    videoContainer.appendChild(video);\n    videoContainer.appendChild(loadingIndicator);\n    overlayContainer.appendChild(closeButton);\n    overlayContainer.appendChild(ctaElement);\n    videoContainer.appendChild(overlayContainer);\n    document.body.appendChild(videoContainer);\n\n    // Create CTA button (initially hidden)\n    const ctaButton = document.createElement(\"button\");\n    Object.assign(ctaButton.style, {\n      position: \"absolute\",\n      bottom: \"10px\", // Changed from -45px to ensure visibility\n      left: \"50%\",\n      width: \"90%\",\n      transform: \"translateX(-50%)\",\n      padding: \"10px 20px\",\n      backgroundColor: buttonColor,\n      color: settings?.bookingCtaColor || \"white\",\n      border: \"none\",\n      borderRadius: \"4px\",\n      fontWeight: \"bold\",\n      cursor: \"pointer\",\n      display: \"none\",\n      transition: \"all 0.3s ease\",\n      boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\n      fontSize: \"14px\",\n      zIndex: \"10\", // Ensure it's above other elements\n    });\n    ctaButton.textContent = bookingCta;\n    videoContainer.appendChild(ctaButton);\n\n    // Create pause/play button (initially hidden)\n    const pausePlayButton = document.createElement(\"button\");\n    Object.assign(pausePlayButton.style, {\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\",\n      width: \"60px\",\n      height: \"60px\",\n      backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n      color: \"white\",\n      border: \"none\",\n      borderRadius: \"50%\",\n      display: \"none\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\",\n      transition: \"all 0.3s ease, opacity 0.2s ease\",\n      zIndex: \"10\",\n      padding: \"0\",\n      opacity: \"0\",\n    });\n    pausePlayButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"6\" y=\"4\" width=\"4\" height=\"16\"></rect><rect x=\"14\" y=\"4\" width=\"4\" height=\"16\"></rect></svg>`;\n    pausePlayButton.setAttribute(\"aria-label\", \"Pause video\");\n    videoContainer.appendChild(pausePlayButton);\n\n    // Create mute button (initially hidden)\n    const muteButton = document.createElement(\"button\");\n    Object.assign(muteButton.style, {\n      position: \"absolute\",\n      top: \"10px\",\n      left: \"10px\",\n      width: \"30px\",\n      height: \"30px\",\n      backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n      color: \"white\",\n      border: \"none\",\n      borderRadius: \"50%\",\n      display: \"none\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\",\n      transition: \"all 0.3s ease\",\n      zIndex: \"10\",\n      padding: \"0\",\n    });\n    muteButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"11 5 6 9 2 9 2 15 6 15 11 19 11 5\"></polygon><path d=\"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07\"></path></svg>`;\n    muteButton.setAttribute(\"aria-label\", \"Mute video\");\n    videoContainer.appendChild(muteButton);\n\n    // Create progress bar container (initially hidden)\n    const progressContainer = document.createElement(\"div\");\n    Object.assign(progressContainer.style, {\n      position: \"absolute\",\n      top: \"0\",\n      left: \"0\",\n      width: \"100%\",\n      height: \"5px\",\n      backgroundColor: \"rgba(0, 0, 0, 0.3)\",\n      display: \"none\",\n      zIndex: \"10\",\n      overflow: \"hidden\",\n    });\n\n    // Create progress bar\n    const progressBar = document.createElement(\"div\");\n    Object.assign(progressBar.style, {\n      width: \"0%\",\n      height: \"100%\",\n      backgroundColor: buttonColor,\n      transition: \"width 0.1s linear\",\n    });\n\n    progressContainer.appendChild(progressBar);\n    videoContainer.appendChild(progressContainer);\n\n    // Set up video source with error handling\n    this.setupVideoSource(video, videoSrc, posterImage, loadingIndicator);\n\n    // Hide loading indicator when video is ready\n    video.addEventListener(\"canplay\", () => {\n      loadingIndicator.style.display = \"none\";\n    });\n\n    // Track video play state\n    let isVideoPaused = false;\n    let isMuted = false;\n\n    // Function to toggle pause/play\n    const togglePlayPause = () => {\n      if (isVideoPaused) {\n        video.play();\n        pausePlayButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><rect x=\"6\" y=\"4\" width=\"4\" height=\"16\"></rect><rect x=\"14\" y=\"4\" width=\"4\" height=\"16\"></rect></svg>`;\n        pausePlayButton.setAttribute(\"aria-label\", \"Pause video\");\n      } else {\n        video.pause();\n        pausePlayButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"5 3 19 12 5 21 5 3\"></polygon></svg>`;\n        pausePlayButton.setAttribute(\"aria-label\", \"Play video\");\n      }\n      isVideoPaused = !isVideoPaused;\n    };\n\n    // Function to toggle mute/unmute\n    const toggleMute = () => {\n      if (isMuted) {\n        video.muted = false;\n        muteButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"11 5 6 9 2 9 2 15 6 15 11 19 11 5\"></polygon><path d=\"M19.07 4.93a10 10 0 0 1 0 14.14M15.54 8.46a5 5 0 0 1 0 7.07\"></path></svg>`;\n        muteButton.setAttribute(\"aria-label\", \"Mute video\");\n      } else {\n        video.muted = true;\n        muteButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"11 5 6 9 2 9 2 15 6 15 11 19 11 5\"></polygon><line x1=\"23\" y1=\"9\" x2=\"17\" y2=\"15\"></line><line x1=\"17\" y1=\"9\" x2=\"23\" y2=\"15\"></line></svg>`;\n        muteButton.setAttribute(\"aria-label\", \"Unmute video\");\n      }\n      isMuted = !isMuted;\n    };\n\n    // Update progress bar\n    const updateProgressBar = () => {\n      if (video.duration) {\n        const progress = (video.currentTime / video.duration) * 100;\n        progressBar.style.width = `${progress}%`;\n      }\n    };\n\n    // Add event handler for pause/play button\n    pausePlayButton.addEventListener(\"click\", (e) => {\n      e.stopPropagation();\n      togglePlayPause();\n    });\n\n    // Add event handler for mute button\n    muteButton.addEventListener(\"click\", (e) => {\n      e.stopPropagation();\n      toggleMute();\n    });\n\n    // Add event handler for video timeupdate to update progress bar\n    video.addEventListener(\"timeupdate\", updateProgressBar);\n\n    // Show pause button briefly when video is clicked\n    const showPauseButtonBriefly = () => {\n      pausePlayButton.style.opacity = \"1\";\n      setTimeout(() => {\n        if (!isVideoPaused) {\n          pausePlayButton.style.opacity = \"0\";\n        }\n      }, 1500);\n    };\n\n    // Improved hover effect for CTA button\n    ctaButton.addEventListener(\"mouseenter\", () => {\n      ctaButton.style.transform = \"translateX(-50%) translateY(-4px)\";\n      ctaButton.style.boxShadow = \"0 6px 14px rgba(0,0,0,0.3)\";\n      ctaButton.style.backgroundColor = this.adjustColor(buttonColor, -20); // Darken the button color\n    });\n\n    ctaButton.addEventListener(\"mouseleave\", () => {\n      ctaButton.style.transform = \"translateX(-50%)\";\n      ctaButton.style.boxShadow = \"0 2px 8px rgba(0,0,0,0.2)\";\n      ctaButton.style.backgroundColor = buttonColor;\n    });\n\n    // Add event handlers with expanded functionality\n    videoContainer.addEventListener(\"click\", (e) => {\n      if (e.target === closeButton || closeButton.contains(e.target as Node)) {\n        return;\n      }\n\n      if (\n        e.target === pausePlayButton ||\n        pausePlayButton.contains(e.target as Node)\n      ) {\n        return;\n      }\n\n      if (e.target === muteButton || muteButton.contains(e.target as Node)) {\n        return;\n      }\n\n      if (e.target === ctaButton || ctaButton.contains(e.target as Node)) {\n        // CTA button click pauses video and opens booking link\n        if (!isVideoPaused) {\n          togglePlayPause(); // Always ensure video is paused when clicking CTA\n        }\n        this.openModalWithContent({ link: bookingLink });\n        return;\n      }\n\n      if (isExpanded) {\n        // When maximized, clicking the video toggles play/pause\n        togglePlayPause();\n        showPauseButtonBriefly();\n        return;\n      }\n\n      // First click: expand video\n      isExpanded = true;\n\n      // Make video bigger (100% increase)\n      const newWidth = parseInt(originalStyles.width) * 2 + \"px\";\n      const newHeight = parseInt(originalStyles.height) * 2 + \"px\";\n\n      Object.assign(videoContainer.style, {\n        width: newWidth,\n        height: newHeight,\n        borderRadius: \"12px\", // Slightly larger radius for expanded state\n        cursor: \"pointer\", // Keep pointer cursor for play/pause functionality\n      });\n\n      // Hide the CTA overlay text\n      ctaElement.style.display = \"none\";\n\n      // Show CTA button, pause button, mute button, and progress bar\n      ctaButton.style.display = \"block\";\n      pausePlayButton.style.display = \"flex\";\n      muteButton.style.display = \"flex\";\n      progressContainer.style.display = \"block\";\n\n      // Reset video and enable sound\n      video.currentTime = 0;\n      video.muted = false;\n      isMuted = false;\n      video.play().catch(() => {\n        console.warn(\n          \"meetergo: Couldn't play video with sound due to browser restrictions\"\n        );\n      });\n\n      // Reset pause state\n      isVideoPaused = false;\n\n      // Show pause button briefly\n      showPauseButtonBriefly();\n\n      // Start updating progress bar\n      updateProgressBar();\n    });\n\n    // Close button functionality\n    closeButton.addEventListener(\"click\", (e) => {\n      e.stopPropagation(); // Prevent video container click event\n\n      // Reset to initial state if expanded\n      if (isExpanded) {\n        isExpanded = false;\n\n        // Restore original size\n        Object.assign(videoContainer.style, {\n          width: originalStyles.width,\n          height: originalStyles.height,\n          borderRadius: originalStyles.borderRadius,\n          cursor: \"pointer\", // Restore pointer cursor when minimized\n        });\n\n        // Show the CTA overlay text again\n        ctaElement.style.display = \"block\";\n\n        // Hide CTA button, pause button, mute button, and progress bar\n        ctaButton.style.display = \"none\";\n        pausePlayButton.style.display = \"none\";\n        muteButton.style.display = \"none\";\n        progressContainer.style.display = \"none\";\n\n        // Mute video again and ensure it's playing\n        video.muted = true;\n        video.play();\n        isVideoPaused = false;\n      } else {\n        // If not expanded, hide the video completely\n        videoContainer.style.display = \"none\";\n        this.createMinimizedIndicator(videoContainer, buttonColor);\n      }\n    });\n\n    // Hover effects\n    videoContainer.addEventListener(\"mouseenter\", () => {\n      this.applyHoverEffects(videoContainer, ctaElement, closeButton);\n    });\n\n    videoContainer.addEventListener(\"mouseleave\", () => {\n      this.removeHoverEffects(videoContainer, closeButton);\n    });\n\n    // Add accessibility support\n    this.addAccessibilitySupport(\n      videoContainer,\n      closeButton,\n      ctaButton,\n      bookingLink,\n      pausePlayButton,\n      muteButton\n    );\n\n    // Check video loading status after timeout\n    this.addVideoLoadingTimeout(video, posterImage, loadingIndicator);\n  }\n\n  /**\n   * Creates all the necessary elements for the video embed\n   */\n  private createVideoEmbedElements(settings: MeetergoSettings[\"videoEmbed\"]) {\n    // Create overlay container\n    const overlayContainer = document.createElement(\"div\");\n    Object.assign(overlayContainer.style, {\n      position: \"absolute\",\n      top: \"0\",\n      left: \"0\",\n      width: \"100%\",\n      height: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      justifyContent: \"space-between\",\n      pointerEvents: \"none\",\n    });\n\n    // Create CTA text overlay (using videoCta instead of bookingCta)\n    const ctaElement = document.createElement(\"div\");\n    Object.assign(ctaElement.style, {\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\",\n      color: \"white\",\n      fontSize: \"14px\",\n      textShadow: \"0 2px 4px rgba(0,0,0,0.8)\",\n      fontWeight: \"bold\",\n      textAlign: \"center\",\n      whiteSpace: \"nowrap\",\n      padding: \"8px\",\n      maxWidth: \"100%\",\n      overflow: \"hidden\",\n      textOverflow: \"ellipsis\",\n      backgroundColor: \"rgba(0, 0, 0, 0.4)\", // Added for better visibility\n      borderRadius: \"4px\", // Added for better styling\n    });\n    ctaElement.textContent = settings?.videoCta || \"Click to watch\";\n\n    // Create loading indicator\n    const loadingIndicator = this.createLoadingIndicator();\n\n    // Create close button - now always visible\n    const closeButton = document.createElement(\"div\");\n    Object.assign(closeButton.style, {\n      position: \"absolute\",\n      top: \"10px\",\n      right: \"10px\",\n      backgroundColor: \"rgba(0, 0, 0, 0.5)\",\n      borderRadius: \"50%\",\n      width: \"20px\",\n      height: \"20px\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n      cursor: \"pointer\",\n      opacity: \"1\", // Changed from 0 to 1 to make always visible\n      transition: \"background-color 0.3s ease\",\n      pointerEvents: \"auto\",\n      zIndex: \"10\",\n      padding: \"0\",\n    });\n    closeButton.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"12\" height=\"12\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><line x1=\"18\" y1=\"6\" x2=\"6\" y2=\"18\"></line><line x1=\"6\" y1=\"6\" x2=\"18\" y2=\"18\"></line></svg>`;\n\n    // Create video element\n    const video = document.createElement(\"video\");\n    video.muted = true;\n    video.loop = true;\n    video.playsInline = true;\n    video.autoplay = true;\n    video.preload = \"metadata\";\n    Object.assign(video.style, {\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n    });\n\n    if (settings?.posterImage) {\n      video.poster = settings.posterImage;\n    }\n\n    // Add animation stylesheet once\n    this.ensureAnimationStylesExist();\n\n    return {\n      video,\n      overlayContainer,\n      ctaElement,\n      loadingIndicator,\n      closeButton,\n    };\n  }\n\n  /**\n   * Creates and returns a loading indicator element\n   */\n  private createLoadingIndicator(): HTMLElement {\n    const loadingIndicator = document.createElement(\"div\");\n    Object.assign(loadingIndicator.style, {\n      position: \"absolute\",\n      top: \"50%\",\n      left: \"50%\",\n      transform: \"translate(-50%, -50%)\",\n      width: \"30px\",\n      height: \"30px\",\n      border: \"3px solid rgba(255, 255, 255, 0.3)\",\n      borderRadius: \"50%\",\n      borderTop: \"3px solid #ffffff\",\n      animation: \"meetergo-spin 1s linear infinite\",\n    });\n    return loadingIndicator;\n  }\n\n  /**\n   * Ensures animation styles exist in the document\n   */\n  private ensureAnimationStylesExist(): void {\n    if (!document.getElementById(\"meetergo-animations\")) {\n      const style = document.createElement(\"style\");\n      style.id = \"meetergo-animations\";\n      style.textContent = `@keyframes meetergo-spin { 0% { transform: translate(-50%, -50%) rotate(0deg); } 100% { transform: translate(-50%, -50%) rotate(360deg); } }`;\n      document.head.appendChild(style);\n    }\n  }\n\n  /**\n   * Sets position styles for the video container with offset support\n   */\n  private setPositionStyles(\n    container: HTMLElement,\n    position: string,\n    offset = \"16px\"\n  ): void {\n    const offsetValue = offset || \"16px\";\n\n    // Vertical positioning\n    if (position.includes(\"top\")) {\n      container.style.top = offsetValue;\n    } else if (position.includes(\"middle\")) {\n      container.style.top = \"50%\";\n      container.style.transform = \"translateY(-50%)\";\n    } else {\n      container.style.bottom = offsetValue;\n    }\n\n    // Horizontal positioning\n    if (position.includes(\"left\")) {\n      container.style.left = offsetValue;\n    } else if (position.includes(\"center\")) {\n      container.style.left = \"50%\";\n      container.style.transform = container.style.transform\n        ? \"translate(-50%, -50%)\"\n        : \"translateX(-50%)\";\n    } else {\n      container.style.right = offsetValue;\n    }\n  }\n\n  /**\n   * Sets up video source with proper error handling\n   */\n  private setupVideoSource(\n    video: HTMLVideoElement,\n    videoSrc: string,\n    posterImage: string,\n    loadingIndicator: HTMLElement\n  ): void {\n    if (videoSrc.endsWith(\".m3u8\")) {\n      this.setupHlsVideo(video, videoSrc, posterImage, loadingIndicator);\n    } else {\n      video.src = videoSrc;\n      video.onerror = () => {\n        console.warn(\n          \"meetergo: Video failed to load, using poster image instead\"\n        );\n        this.fallbackToPoster(video, posterImage);\n        loadingIndicator.style.display = \"none\";\n      };\n    }\n  }\n\n  /**\n   * Helper function to adjust color brightness\n   * @param color Hex color string\n   * @param percent Percentage to lighten (positive) or darken (negative)\n   */\n  private adjustColor(color: string, percent: number): string {\n    let R = parseInt(color.substring(1, 3), 16);\n    let G = parseInt(color.substring(3, 5), 16);\n    let B = parseInt(color.substring(5, 7), 16);\n\n    R = Math.max(0, Math.min(255, R + Math.round((R * percent) / 100)));\n    G = Math.max(0, Math.min(255, G + Math.round((G * percent) / 100)));\n    B = Math.max(0, Math.min(255, B + Math.round((B * percent) / 100)));\n\n    const RR = R.toString(16).padStart(2, \"0\");\n    const GG = G.toString(16).padStart(2, \"0\");\n    const BB = B.toString(16).padStart(2, \"0\");\n\n    return `#${RR}${GG}${BB}`;\n  }\n\n  private setupHlsVideo(\n    videoElement: HTMLVideoElement,\n    videoSrc: string,\n    posterUrl: string | undefined,\n    container: HTMLElement\n  ): void {\n    // Ensure we're using HTTPS for all resources\n    const secureVideoSrc = videoSrc.replace(/^http:/, \"https:\");\n\n    if (window.Hls && window.Hls.isSupported()) {\n      this.initHlsPlayer(videoElement, secureVideoSrc, posterUrl, container);\n    } else if (videoElement.canPlayType(\"application/vnd.apple.mpegurl\")) {\n      // For Safari which has native HLS support\n      videoElement.src = secureVideoSrc;\n      if (posterUrl) videoElement.poster = posterUrl;\n      videoElement.addEventListener(\"loadedmetadata\", () => {\n        videoElement.play().catch(() => {\n          this.fallbackToPoster(videoElement, container);\n        });\n      });\n      videoElement.addEventListener(\"error\", () => {\n        this.fallbackToPoster(videoElement, container);\n      });\n    } else {\n      console.warn(\"meetergo: HLS not supported in this browser\");\n      this.fallbackToPoster(videoElement, container);\n    }\n  }\n\n  private initHlsPlayer(\n    video: HTMLVideoElement,\n    videoSrc: string,\n    posterImage: string | undefined,\n    loadingIndicator: HTMLElement\n  ): void {\n    if (window.Hls && window.Hls.isSupported()) {\n      const hls = new window.Hls();\n      hls.loadSource(videoSrc);\n      hls.attachMedia(video);\n      hls.on(window.Hls.Events.MANIFEST_PARSED, () => {\n        video.play().catch(() => {\n          loadingIndicator.style.display = \"none\";\n        });\n      });\n      hls.on(window.Hls.Events.ERROR, (_, data) => {\n        if (data.fatal) {\n          if (posterImage) {\n            this.fallbackToPoster(video, posterImage);\n          }\n          loadingIndicator.style.display = \"none\";\n        }\n      });\n    } else if (video.canPlayType(\"application/vnd.apple.mpegurl\")) {\n      video.src = videoSrc;\n      if (posterImage) video.poster = posterImage;\n      video.addEventListener(\"loadedmetadata\", () => {\n        video.play().catch(() => {\n          loadingIndicator.style.display = \"none\";\n        });\n      });\n    } else {\n      console.warn(\"meetergo: HLS is not supported in this browser\");\n      if (posterImage) {\n        this.fallbackToPoster(video, posterImage);\n      }\n      loadingIndicator.style.display = \"none\";\n    }\n  }\n\n  private fallbackToPoster(\n    video: HTMLVideoElement,\n    posterImage: string | HTMLElement\n  ): void {\n    if (!video.parentElement) return;\n\n    if (typeof posterImage === \"string\") {\n      const fallbackImg = document.createElement(\"img\");\n      fallbackImg.src = posterImage;\n      Object.assign(fallbackImg.style, {\n        width: \"100%\",\n        height: \"100%\",\n        objectFit: \"cover\",\n      });\n      video.parentElement.replaceChild(fallbackImg, video);\n    } else if (posterImage instanceof HTMLElement) {\n      // If posterImage is an HTMLElement (container), just hide the video\n      video.style.display = \"none\";\n    }\n  }\n\n  /**\n   * Apply hover effects to video container\n   */\n  private applyHoverEffects(\n    videoContainer: HTMLElement,\n    ctaElement: HTMLElement,\n    closeButton: HTMLElement\n  ): void {\n    // Scale effect\n    if (videoContainer.style.transform.includes(\"translate\")) {\n      videoContainer.style.transform =\n        videoContainer.style.transform.replace(/scale\\([\\d.]+\\)/g, \"\") +\n        \" scale(1.05)\";\n    } else {\n      videoContainer.style.transform = \"scale(1.05)\";\n    }\n\n    videoContainer.style.boxShadow = \"0 8px 24px rgba(0, 0, 0, 0.2)\";\n\n    // Change close button background on hover instead of opacity\n    closeButton.style.backgroundColor = \"rgba(0, 0, 0, 0.7)\";\n\n    // Only enhance CTA text if it's visible\n    if (ctaElement.style.display !== \"none\") {\n      ctaElement.style.textShadow = \"0 1px 3px rgba(0,0,0,0.9)\";\n    }\n  }\n\n  /**\n   * Remove hover effects from video container\n   */\n  private removeHoverEffects(\n    videoContainer: HTMLElement,\n    closeButton: HTMLElement\n  ): void {\n    if (videoContainer.style.transform.includes(\"translate\")) {\n      videoContainer.style.transform = videoContainer.style.transform.replace(\n        / scale\\([\\d.]+\\)/g,\n        \"\"\n      );\n    } else {\n      videoContainer.style.transform = \"\";\n    }\n\n    videoContainer.style.boxShadow = \"0 4px 12px rgba(0, 0, 0, 0.15)\";\n\n    // Reset close button background on mouse leave\n    closeButton.style.backgroundColor = \"rgba(0, 0, 0, 0.5)\";\n  }\n\n  /**\n   * Create minimized indicator when video is closed\n   */\n  private createMinimizedIndicator(\n    videoContainer: HTMLElement,\n    buttonColor: string\n  ): void {\n    const minimizedIndicator = document.createElement(\"div\");\n    Object.assign(minimizedIndicator.style, {\n      position: \"fixed\",\n      bottom: \"20px\",\n      right: \"20px\",\n      width: \"40px\",\n      height: \"40px\",\n      borderRadius: \"50%\",\n      backgroundColor: buttonColor,\n      boxShadow: \"0 2px 10px rgba(0, 0, 0, 0.2)\",\n      cursor: \"pointer\",\n      zIndex: \"9999\",\n      display: \"flex\",\n      alignItems: \"center\",\n      justifyContent: \"center\",\n    });\n    minimizedIndicator.innerHTML = `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" viewBox=\"0 0 24 24\" fill=\"white\" stroke=\"white\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\"><polygon points=\"5 3 19 12 5 21 5 3\"></polygon></svg>`;\n    document.body.appendChild(minimizedIndicator);\n\n    minimizedIndicator.addEventListener(\"click\", () => {\n      videoContainer.style.display = \"block\";\n      document.body.removeChild(minimizedIndicator);\n    });\n  }\n\n  /**\n   * Add accessibility support\n   */\n  private addAccessibilitySupport(\n    videoContainer: HTMLElement,\n    closeButton: HTMLElement,\n    ctaButton: HTMLElement,\n    bookingLink: string,\n    pausePlayButton?: HTMLElement,\n    muteButton?: HTMLElement\n  ): void {\n    videoContainer.setAttribute(\"role\", \"button\");\n    videoContainer.setAttribute(\"aria-label\", \"Click to expand video\");\n    videoContainer.setAttribute(\"tabindex\", \"0\");\n    ctaButton.setAttribute(\"role\", \"button\");\n    ctaButton.setAttribute(\"aria-label\", \"Book an appointment\");\n    ctaButton.setAttribute(\"tabindex\", \"0\");\n\n    if (pausePlayButton) {\n      pausePlayButton.setAttribute(\"role\", \"button\");\n      pausePlayButton.setAttribute(\"tabindex\", \"0\");\n\n      pausePlayButton.addEventListener(\"keydown\", (e) => {\n        if (e.key === \"Enter\" || e.key === \" \") {\n          e.preventDefault();\n          pausePlayButton.click();\n        }\n      });\n    }\n\n    if (muteButton) {\n      muteButton.setAttribute(\"role\", \"button\");\n      muteButton.setAttribute(\"tabindex\", \"0\");\n\n      muteButton.addEventListener(\"keydown\", (e) => {\n        if (e.key === \"Enter\" || e.key === \" \") {\n          e.preventDefault();\n          muteButton.click();\n        }\n      });\n    }\n\n    videoContainer.addEventListener(\"keydown\", (e) => {\n      if (e.key === \"Enter\" || e.key === \" \") {\n        e.preventDefault();\n        videoContainer.click();\n      } else if (e.key === \"Escape\") {\n        closeButton.click();\n      }\n    });\n\n    ctaButton.addEventListener(\"keydown\", (e) => {\n      if (e.key === \"Enter\" || e.key === \" \") {\n        e.preventDefault();\n        this.openModalWithContent({ link: bookingLink });\n      }\n    });\n  }\n\n  /**\n   * Add timeout to check video loading status\n   */\n  private addVideoLoadingTimeout(\n    video: HTMLVideoElement,\n    posterImage: string,\n    loadingIndicator: HTMLElement\n  ): void {\n    setTimeout(() => {\n      if (video.readyState === 0 && video.error === null) {\n        console.warn(\n          \"meetergo: Video failed to load after timeout, using poster image\"\n        );\n        this.fallbackToPoster(video, posterImage);\n        loadingIndicator.style.display = \"none\";\n      }\n    }, 3000);\n  }\n}\n\nexport const meetergo = new MeetergoIntegration();\n", "import { meetergo } from './main';\nwindow.meetergo = meetergo;\n"],
  "mappings": "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",
  "names": ["MeetergoIntegration", "style", "target", "targetListener", "listener", "formData", "data", "key", "value", "forms", "form", "position", "width", "link", "buttonText", "buttonIcon", "buttonPosition", "sidebar", "closeButton", "iframe", "toggleButton", "iconSpan", "textLabel", "animation", "button", "originalTransform", "iconName", "container", "iconMap", "meetergoEvent", "iframeParams", "error", "divIframe", "linkAttr", "queryString", "settings", "existingParams", "params", "modalContent", "modal", "overlay", "spinner", "e", "content", "title", "description", "fragment", "element", "schedulerLink", "options", "oldHandler", "clickHandler", "handler", "spinners", "preventClearContent", "anchors", "anchor", "loadingIndicator", "indicatorId", "innerError", "scrollHeight", "buttons", "search", "paramObj", "prefill", "encodedKey", "encodedValue", "encodingError", "currentSrc", "linkBase", "styles", "styleId", "resolve", "reject", "script", "videoSrc", "bookingLink", "posterImage", "buttonColor", "bookingCta", "size", "isRound", "offset", "videoContainer", "diameter", "video", "overlayContainer", "ctaElement", "isExpanded", "originalStyles", "ctaButton", "pausePlayButton", "muteButton", "progressContainer", "progressBar", "isVideoPaused", "isMuted", "togglePlayPause", "toggleMute", "updateProgressBar", "progress", "showPauseButtonBriefly", "newWidth", "newHeight", "offsetValue", "color", "percent", "R", "G", "B", "RR", "GG", "BB", "videoElement", "posterUrl", "secureVideoSrc", "hls", "_", "fallbackImg", "minimizedIndicator", "meetergo", "meetergo"]
}
